{"version":3,"sources":["webpack://randomUser/./src/js/refs.js","webpack://randomUser/./src/js/createMarkUp.js","webpack://randomUser/./src/js/changeStyle.js","webpack://randomUser/./src/js/index.js","webpack://randomUser/./src/js/env.js","webpack://randomUser/webpack/startup"],"names":["loadMore","document","querySelector","btnOpenContent","btnCloseFilter","backdrop","usersContainer","user","spiner","statisticTemplate","statisticContainer","filter","form","search","content","select","allCheckbox","querySelectorAll","paginationList","startStep","endStep","prevStep","nextStep","selects","selectPerPage","dropdownFilter","makeUserCard","picture","name","gender","phone","email","location","dob","registered","dateBirthday","Date","date","toLocaleDateString","dateRegistered","refs","innerHTML","large","replace","last","first","state","city","street","replaceMurkup","users","usersMarkUp","map","this","join","makeStatistics","female","male","dominantGender","createNationalityList","length","createPagePaginationMarkUp","cls","changeStyle","changePath","e","classList","toggle","nextElementSibling","addStyle","elem","style","add","removeStyle","remove","changeStylePagination","currentPage","totalPages","currentActiveLink","window","addEventListener","code","body","target","parentNode","arrResultUsers","filtredUsers","age","sort","perPage","startSliceUsers","endSliceUsers","filtredUsersLength","getStatistics","stats","flatMap","nat","reduce","acc","nationality","createMarkup","Object","entries","makeNationalityMarkUp","number","key","value","declensionUser","wordsUsers","redrawPage","getFormData","formData","FormData","values","fromEntries","forEach","Array","isArray","getAll","trim","toLowerCase","hasOwnProperty","filterProducts","item","filtersBySearch","arrParam","filterParam","includes","rangeParam","range","keys","ranges","find","min","max","val","optionsSort","sortByOption","slice","randomUsers","url","checked","Math","floor","random","fetch","then","response","json","results","createPagination","cutUsers","keyCode","preventDefault","0","1","a","b","localeCompare","2","3","4","5","6","7","8","findIncludesElement","Infinity","ceil","addPaginationButtons","nodeName","textContent","maxPageVisible","half","round","to","maxPages","from","_","i","pageNumber","isCurrentPage","button","__webpack_modules__"],"mappings":"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","file":"bundle.js","sourcesContent":["export default {\r\n  loadMore: document.querySelector(\"[data-load-more]\"),\r\n  btnOpenContent: document.querySelector(\"[data-open-content]\"),\r\n  btnCloseFilter: document.querySelector(\"[data-close-filter]\"),\r\n  backdrop: document.querySelector(\"[data-filter-backdrop]\"),\r\n  usersContainer: document.querySelector(\"[data-users-container]\"),\r\n  user: document.querySelector(\"#user-template\"),\r\n  spiner: document.querySelector(\"[data-load-spiner]\"),\r\n  statisticTemplate: document.querySelector(\"#statistics\"),\r\n  statisticContainer: document.querySelector(\".statistics\"),\r\n  filter: document.querySelector(\".filter\"),\r\n  form: document.querySelector(\"#data\"),\r\n  search: document.querySelector(\"[data-input-search]\"),\r\n  content: document.querySelector(\".users-content\"),\r\n  select: document.querySelector(\"#sort-control\"),\r\n  allCheckbox: [...document.querySelectorAll('input[type=\"checkbox\"]')],\r\n  paginationList: document.querySelector(\".pagination__list\"),\r\n  startStep: document.querySelector(\"#first-step\"),\r\n  endStep: document.querySelector(\"#last-step\"),\r\n  prevStep: document.querySelector(\"#prev-step\"),\r\n  nextStep: document.querySelector(\"#next-step\"),\r\n  selects: document.querySelectorAll(\"select\"),\r\n  selectPerPage: document.querySelector(\"#view-control\"),\r\n  dropdownFilter: document.querySelectorAll(\"[data-select]\"),\r\n};\r\n","import refs from \"./refs.js\";\r\n\r\nexport default {\r\n  makeUserCard({\r\n    picture,\r\n    name,\r\n    gender,\r\n    phone,\r\n    email,\r\n    location,\r\n    dob,\r\n    registered,\r\n  }) {\r\n    const dateBirthday = new Date(dob.date).toLocaleDateString();\r\n    const dateRegistered = new Date(registered.date).toLocaleDateString();\r\n\r\n    return refs.user.innerHTML\r\n      .replace(/{{hrefImg}}/gi, picture.large)\r\n      .replace(/{{lastName}}/, name.last)\r\n      .replace(/{{firstName}}/, name.first)\r\n      .replace(/{{gender}}/, gender)\r\n      .replace(/{{phone}}/gi, phone)\r\n      .replace(/{{email}}/gi, email)\r\n      .replace(/{{state}}/, location.state)\r\n      .replace(/{{city}}/, location.city)\r\n      .replace(/{{street}}/, location.street.name)\r\n      .replace(/{{birthday}}/, dateBirthday)\r\n      .replace(/{{registered}}/, dateRegistered);\r\n  },\r\n\r\n  replaceMurkup(users) {\r\n    const usersMarkUp = users.map(this.makeUserCard).join(\"\");\r\n\r\n    refs.usersContainer.insertAdjacentHTML(\"beforeend\", usersMarkUp);\r\n  },\r\n\r\n  makeStatistics(\r\n    female,\r\n    male,\r\n    users,\r\n    dominantGender,\r\n    createNationalityList\r\n  ) {\r\n    return refs.statisticTemplate.innerHTML\r\n      .replace(/{{users}}/, users.length)\r\n      .replace(/{{female}}/, female.length)\r\n      .replace(/{{male}}/, male.length)\r\n      .replace(/{{dominantGender}}/, dominantGender)\r\n      .replace(/{{nationality}}/, createNationalityList);\r\n  },\r\n\r\n  createPagePaginationMarkUp(content, cls = \"\") {\r\n    return `<a href=\"#\" class=\"pagination__item ${cls}\" data-page=\"${content}\">${content}</a>`;\r\n  },\r\n};\r\n","import refs from \"./refs.js\";\r\n\r\nconst changeStyle = {\r\n  changePath(e) {\r\n    this.querySelector(\"[data-filter-path]\").classList.toggle(\"is-open\");\r\n    this.nextElementSibling.classList.toggle(\"visually-hidden\");\r\n  },\r\n\r\n  addStyle(elem, style) {\r\n    elem.classList.add(style);\r\n  },\r\n\r\n  removeStyle(elem, style) {\r\n    elem.classList.remove(style);\r\n  },\r\n\r\n  changeStylePagination(currentPage, totalPages) {\r\n    const currentActiveLink = document.querySelector(\r\n      \".pagination__item.active\"\r\n    );\r\n\r\n    currentActiveLink && currentActiveLink.classList.remove(\"active\");\r\n\r\n    if (currentPage > 1) {\r\n      this.removeStyle(refs.startStep, \"pagination-state--disabled\");\r\n      this.removeStyle(refs.prevStep, \"pagination-state--disabled\");\r\n    } else {\r\n      this.addStyle(refs.startStep, \"pagination-state--disabled\");\r\n      this.addStyle(refs.prevStep, \"pagination-state--disabled\");\r\n    }\r\n\r\n    if (+currentPage === totalPages) {\r\n      this.addStyle(refs.nextStep, \"pagination-state--disabled\");\r\n      this.addStyle(refs.endStep, \"pagination-state--disabled\");\r\n    } else {\r\n      this.removeStyle(refs.nextStep, \"pagination-state--disabled\");\r\n      this.removeStyle(refs.endStep, \"pagination-state--disabled\");\r\n    }\r\n  },\r\n};\r\n\r\nwindow.addEventListener(\"keydown\", function (e) {\r\n  if (e.code === \"Escape\") {\r\n    changeStyle.addStyle(document.body, \"modal-open\");\r\n    changeStyle.addStyle(refs.backdrop, \"is-hidden\");\r\n    changeStyle.addStyle(refs.filter, \"mobile-is-hidden\");\r\n    changeStyle.addStyle(refs.backdrop, \"is-hidden\");\r\n  }\r\n});\r\n\r\nwindow.addEventListener(\"click\", function (e) {\r\n  if (e.target === refs.btnOpenContent) {\r\n    changeStyle.removeStyle(refs.filter, \"mobile-is-hidden\");\r\n    changeStyle.removeStyle(refs.backdrop, \"is-hidden\");\r\n  }\r\n\r\n  if (e.target.parentNode === refs.btnCloseFilter) {\r\n    changeStyle.addStyle(refs.filter, \"mobile-is-hidden\");\r\n    changeStyle.addStyle(refs.backdrop, \"is-hidden\");\r\n  }\r\n\r\n  if (e.target === refs.backdrop) {\r\n    changeStyle.addStyle(refs.filter, \"mobile-is-hidden\");\r\n    changeStyle.addStyle(refs.backdrop, \"is-hidden\");\r\n  }\r\n});\r\n\r\nexport default changeStyle;\r\n","import \"../scss/index.scss\";\r\nimport refs from \"./refs.js\";\r\nimport env from \"./env.js\";\r\nimport createMarkup from \"./createMarkUp.js\";\r\nimport changeStyle from \"./changeStyle.js\";\r\nimport wordsUsers from \"./wordsUsers.json\";\r\n\r\nlet arrResultUsers = [];\r\nlet filtredUsers = [];\r\nconst filter = { search: \"\", gender: [], age: [], sort: \"0\", perPage: \"5\" };\r\nlet currentPage = 1;\r\nlet totalPages;\r\nlet startSliceUsers = 0;\r\nlet endSliceUsers = 5;\r\nlet filtredUsersLength = 0;\r\n\r\nrefs.loadMore.addEventListener(\"click\", onLoad);\r\nrefs.form.addEventListener(\"input\", onСompileFormData);\r\n\r\nfunction getRandomUser(max) {\r\n  return Math.floor(Math.random() * max + 1);\r\n}\r\n\r\nfunction onLoad(e) {\r\n  changeStyle.removeStyle(refs.spiner, \"is-hidden\");\r\n  changeStyle.removeStyle(refs.content, \"is-hidden\");\r\n  changeStyle.removeStyle(refs.filter, \"is-hidden\");\r\n  changeStyle.removeStyle(refs.btnOpenContent, \"is-hidden\");\r\n  refs.search.value = \"\";\r\n  refs.usersContainer.innerHTML = \"\";\r\n  filter.sort = \"\";\r\n  filter.perPage = 5;\r\n  filter.gender = [];\r\n  filter.age = [];\r\n  endSliceUsers = 5;\r\n  refs.selectPerPage.selectedIndex = 0;\r\n  refs.select.selectedIndex = 0;\r\n  currentPage = 1;\r\n  disableChecked();\r\n  fetchUsers();\r\n  filterAccordion();\r\n}\r\n\r\nfunction disableChecked() {\r\n  refs.allCheckbox.forEach((item) => {\r\n    item.checked = false;\r\n  });\r\n}\r\n\r\nfunction getUsers(randomUsers) {\r\n  const url = `${env.BASE_URL}?&results=${randomUsers}`;\r\n\r\n  return fetch(url)\r\n    .then((response) => response.json())\r\n    .then(({ results }) => {\r\n      return results;\r\n    });\r\n}\r\n\r\nfunction fetchUsers() {\r\n  getUsers(getRandomUser(100)).then((users) => {\r\n    changeStyle.addStyle(refs.spiner, \"is-hidden\");\r\n    arrResultUsers = [...users];\r\n\r\n    filterProducts();\r\n    createMarkup.replaceMurkup(filtredUsers);\r\n    getStatistics(arrResultUsers);\r\n    createPagination();\r\n  });\r\n}\r\n\r\nfunction getStatistics(users) {\r\n  const female = users.filter((user) => user.gender === \"female\");\r\n  const male = users.filter((user) => user.gender === \"male\");\r\n  let dominantGender = \"\";\r\n\r\n  if (female > male) {\r\n    dominantGender = \"женщин\";\r\n  } else if (female < male) {\r\n    dominantGender = \"мужчин\";\r\n  } else {\r\n    dominantGender = \"равное количество\";\r\n  }\r\n\r\n  const stats = users\r\n    .flatMap((user) => user.nat)\r\n    .reduce(\r\n      (acc, nationality) => ({\r\n        ...acc,\r\n        [nationality]: acc[nationality] ? acc[nationality] + 1 : 1,\r\n      }),\r\n      {}\r\n    );\r\n\r\n  refs.statisticContainer.innerHTML = createMarkup.makeStatistics(\r\n    female,\r\n    male,\r\n    users,\r\n    dominantGender,\r\n    createNationalityList(stats)\r\n  );\r\n}\r\n\r\nfunction createNationalityList(stats) {\r\n  return Object.entries(stats).map(makeNationalityMarkUp).join(\"\");\r\n}\r\n\r\nfunction makeNationalityMarkUp([key, value]) {\r\n  const declensionUser = declensionAmount(value, wordsUsers.words);\r\n\r\n  return `<div>${key}: ${value} ${declensionUser}</div>`;\r\n}\r\n\r\nfunction declensionAmount(number, words) {\r\n  return words[\r\n    number % 100 > 4 && number % 100 < 20\r\n      ? 2\r\n      : [2, 0, 1, 1, 1, 2][number % 10 < 5 ? number % 10 : 5]\r\n  ];\r\n}\r\n\r\nfunction redrawPage() {\r\n  refs.usersContainer.innerHTML = \"\";\r\n  createMarkup.replaceMurkup(filtredUsers);\r\n}\r\n\r\nfunction onSelectData() {\r\n  if (refs.selects) {\r\n    refs.selects.forEach((elem) => {\r\n      elem.addEventListener(\"change\", () => {\r\n        getFormData();\r\n        cutUsers();\r\n        filterProducts();\r\n        redrawPage();\r\n        createPagination();\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nonSelectData();\r\n\r\n// Stage 2\r\n\r\nfunction getFormData() {\r\n  const formData = new FormData(refs.form);\r\n  const values = Object.fromEntries(formData.entries());\r\n\r\n  formData.forEach((value, key) => {\r\n    if (Array.isArray(filter[key])) {\r\n      filter[key] = formData.getAll([key]);\r\n    } else {\r\n      filter[key] = values[key].trim().toLowerCase();\r\n    }\r\n  });\r\n\r\n  for (let key in filter) {\r\n    if (!values.hasOwnProperty(key)) {\r\n      filter[key] = [];\r\n    }\r\n  }\r\n}\r\n\r\nfunction onСompileFormData(e) {\r\n  getFormData();\r\n  filterProducts();\r\n  redrawPage();\r\n  cutUsers();\r\n  createPagination();\r\n\r\n  refs.search.addEventListener(\"keypress\", (e) => {\r\n    e.keyCode === 13 && e.preventDefault();\r\n  });\r\n}\r\n\r\n// фильтрация\r\n\r\nfunction filterProducts() {\r\n  filtredUsers = arrResultUsers\r\n    .filter((item) => filtersBySearch(item, filter.search))\r\n    .filter((item) => applyCheckedFields(item.gender, filter.gender))\r\n    .filter((item) => applyCheckedAgeFields(item.dob.age, filter.age))\r\n    .sort(sortByOption(filter.sort));\r\n\r\n  getStatistics(filtredUsers);\r\n  filtredUsersLength = filtredUsers.length;\r\n  filtredUsers = filtredUsers.slice(startSliceUsers, endSliceUsers);\r\n}\r\n\r\nconst optionsSort = {\r\n  0: () => filtersBySearch(filter.sort),\r\n  1: (a, b) => a.name.last.localeCompare(b.name.last),\r\n  2: (a, b) => b.name.last.localeCompare(a.name.last),\r\n  3: (a, b) => b.gender.localeCompare(a.gender),\r\n  4: (a, b) => a.gender.localeCompare(b.gender),\r\n  5: (a, b) =>\r\n    b.gender.localeCompare(a.gender) || a.name.last.localeCompare(b.name.last),\r\n  6: (a, b) =>\r\n    b.gender.localeCompare(a.gender) || b.name.last.localeCompare(a.name.last),\r\n  7: (a, b) =>\r\n    a.gender.localeCompare(b.gender) || a.name.last.localeCompare(b.name.last),\r\n  8: (a, b) =>\r\n    a.gender.localeCompare(b.gender) || b.name.last.localeCompare(a.name.last),\r\n};\r\n\r\nfunction sortByOption(val) {\r\n  if (filter.sort === \"0\") {\r\n    true;\r\n  } else {\r\n    return optionsSort[val];\r\n  }\r\n}\r\n\r\n// Stage 3\r\n\r\nfunction applyCheckedFields(arrParam, filterParam) {\r\n  return filterParam.length === 0 ? true : filterParam.includes(arrParam);\r\n}\r\n\r\nfunction filtersBySearch(item, filterParam) {\r\n  return filterParam === \"\" ? true : findIncludesElement(item, filterParam);\r\n}\r\n\r\nfunction findIncludesElement(item, val) {\r\n  const includesElemenet =\r\n    item.email.toLowerCase().includes(val) ||\r\n    item.phone.toLowerCase().includes(val) ||\r\n    item.name.first.toLowerCase().includes(val) ||\r\n    item.name.last.toLowerCase().includes(val);\r\n  return includesElemenet;\r\n}\r\n\r\nconst ranges = {\r\n  \"0-35\": { min: 0, max: 35 },\r\n  \"35-40\": { min: 35, max: 40 },\r\n  \"40-45\": { min: 40, max: 45 },\r\n  \"45+\": { min: 45, max: Infinity },\r\n};\r\n\r\nfunction applyCheckedAgeFields(age, rangeParam) {\r\n  let range = Object.keys(ranges).find(\r\n    (range) => ranges[range].min <= age && ranges[range].max >= age\r\n  );\r\n\r\n  return rangeParam.length === 0 ? true : rangeParam.includes(range);\r\n}\r\n\r\n// pagination\r\n\r\nfunction createPagination() {\r\n  totalPages = Math.ceil(filtredUsersLength / filter.perPage);\r\n  refs.paginationList.innerHTML = \"\";\r\n\r\n  addPaginationButtons();\r\n  onStepPagination();\r\n}\r\n\r\nfunction pageNumber(totalPages, maxPageVisible, currentPage) {\r\n  let half = Math.round(maxPageVisible / 2);\r\n  let to = maxPageVisible;\r\n  let total = totalPages;\r\n  let maxPages = maxPageVisible;\r\n\r\n  if (totalPages < 5) {\r\n    maxPages = totalPages;\r\n    half = 2;\r\n  }\r\n\r\n  if (currentPage + half >= total) {\r\n    to = total;\r\n  } else if (currentPage > half) {\r\n    to = currentPage + half;\r\n  } else if (currentPage + half < total) {\r\n    to = maxPages;\r\n  }\r\n  let from = to - maxPages;\r\n\r\n  return Array.from({ length: maxPages }, (_, i) => i + 1 + from);\r\n}\r\n\r\nfunction onStepPagination() {\r\n  const paginationList = document.querySelector(\".pagination__list\");\r\n\r\n  paginationList.addEventListener(\"click\", function (e) {\r\n    if (e.target.nodeName === \"A\") {\r\n      currentPage = +e.target.textContent;\r\n    }\r\n\r\n    cutUsers();\r\n    filterProducts();\r\n    redrawPage();\r\n    addPaginationButtons();\r\n  });\r\n\r\n  refs.nextStep.addEventListener(\"click\", (e) => {\r\n    currentPage += 1;\r\n\r\n    addPaginationButtons();\r\n    cutUsers();\r\n    filterProducts();\r\n    redrawPage();\r\n  });\r\n\r\n  refs.prevStep.addEventListener(\"click\", (e) => {\r\n    currentPage -= 1;\r\n\r\n    addPaginationButtons();\r\n    cutUsers();\r\n    filterProducts();\r\n    redrawPage();\r\n  });\r\n\r\n  refs.startStep.addEventListener(\"click\", (e) => {\r\n    currentPage = 1;\r\n\r\n    addPaginationButtons();\r\n    cutUsers();\r\n    filterProducts();\r\n    redrawPage();\r\n  });\r\n\r\n  refs.endStep.addEventListener(\"click\", (e) => {\r\n    currentPage = totalPages;\r\n\r\n    addPaginationButtons();\r\n    cutUsers();\r\n    filterProducts();\r\n    redrawPage();\r\n  });\r\n}\r\n\r\nfunction addPaginationButtons() {\r\n  refs.paginationList.innerHTML = \"\";\r\n  changeStyle.changeStylePagination(currentPage, totalPages);\r\n\r\n  let pages = pageNumber(totalPages, 5, currentPage);\r\n\r\n  pages.forEach((pageNumber) => {\r\n    const isCurrentPage = currentPage === pageNumber;\r\n    const button = createMarkup.createPagePaginationMarkUp(\r\n      pageNumber,\r\n      isCurrentPage ? \"active\" : \"\",\r\n      false\r\n    );\r\n    refs.paginationList.insertAdjacentHTML(\"beforeend\", button);\r\n  });\r\n}\r\n\r\nfunction cutUsers() {\r\n  startSliceUsers = (currentPage - 1) * filter.perPage;\r\n  endSliceUsers = startSliceUsers + filter.perPage;\r\n}\r\n\r\nfunction filterAccordion() {\r\n  if (refs.dropdownFilter) {\r\n    refs.dropdownFilter.forEach((elem) => {\r\n      elem.addEventListener(\"click\", changeStyle.changePath);\r\n    });\r\n  }\r\n}\r\n","export default {\r\n  BASE_URL: \"https://randomuser.me/api/\",\r\n};\r\n","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[661]();\n"],"sourceRoot":""}